<!--책자_프리셋3_100112-->
<div style="width:560px; min-height:500px;padding-bottom:40px;">
	<div class="estimateq">
		<div class="estimateC">
        
			<!--est_title-->
			<!--{ ? OrderMemoArr[98] == 'Y' }-->
			<div class="box">
				<table cellpadding="0" cellspacing="0" class="estTable2">
					<colgroup>
						<col class="inp-w-80" /><col width="*" />
					</colgroup>
					<tbody>
					<tr>
						<th>{=__text("주문 제목")}</th>
						<td><input type="text" class="textType inp-w-300" name="est_title" value="{est_title}" /></td>
					</tr>
				</tbody>
				</table>
			</div>
			<div class="space"> </div>
			<!--{ / }-->				

			<!--기본 규격-->
			<div class="box">
				<h3 class="est_title">{=__text("기본")}</h3>
				<table cellpadding="0" cellspacing="0" class="estTable">
					<colgroup>
						<col class="inp-w-80" /><col width="*" />
					</colgroup>
					<tbody>
					<tr>
						<th><span name="item_select_DOCUMENT_1">{adminExtraOption->getDisplayName("1")}</span></th>
					  	<td>{adminExtraOption->MakeSelectOptionTag("1","","documentOnchange","inp-w-80")}</td>
					</tr>
					<tr>
						<th><span name="item_select_JB_2">{adminExtraOption->getDisplayName("2")}</span></th>
					  	<td>
							<div id="option_item_select_JB" style="float: left;">
								<span>{adminExtraOption->MakeSelectOptionTag("2","","forwardAction","inp-w-80")}&nbsp;</span>
							</div>
							<div id="option_item_select_HS" style="float: left;">
								<span>{adminExtraOption->MakeSelectOptionTag("3","","forwardAction","inp-w-100")}</span>
							</div>
						</td>
					</tr>
					<tr>
						<th>{=__text("수량")}</th>
					  	<td>
							<span>{adminExtraOption->MakeUnitCntSelect(goodsno)}</span>
							<!--수량(입력)-->
							<span><input type="text" id="input_unit_order_cnt" name="input_unit_order_cnt" class="textType" style="display: none;" /></span>
							<!--수량(단위)-->
							<span name="unit_order_cnt">{adminExtraOption->getUserCntName(goodsno, "OCNT", "Y")}</span>
						</td>
					</tr>		
					</tbody>
				</table>
			</div>
			<div class="space"> </div>

			<!--표지-->				
			<div class="box">
				<h3 class="est_title">
					<input type="checkbox" name="chk_item_select_C-PP_0" id="chk_item_select_C-PP_0" onclick="onVisiblePageOption('C-PP')" value="C-PP" checked="checked" />
					{=__text("표지")}
				</h3>
				<div id="page_option_C-PP">
					<div id="option_item_select_C-PP">					
					<table cellpadding="0" cellspacing="0" class="estTable">
						<colgroup>
							<col class="inp-w-80" /><col width="*" />
						</colgroup>
						<tbody>
						<tr>
							<th><span name="item_select_C-PP_1">{adminExtraOption->getDisplayName("4")}</span></th>
							<td>{adminExtraOption->MakePageSelectOptionTag("4|5|6")}</td>
						</tr>
						<!--{ ? adminExtraOption->getOptionKindUse("7") !== 'N' }-->
						<tr>
							<th><span name="item_select_CPO_7">{adminExtraOption->getDisplayName("7")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("7","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						<!--{ ? adminExtraOption->getOptionKindUse("8") !== 'N' }-->
						<tr>
							<th><span name="item_select_CPO1_8">{adminExtraOption->getDisplayName("8")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("8","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						</tbody>
					</table>
					</div>
					<div id="option_item_select_F-OP">
					<!--필수후가공-->
					<table cellpadding="0" cellspacing="0" class="estTable1">
						<colgroup>
							<col class="inp-w-80" /><col width="*" />
						</colgroup>
						<tbody>					
						<!--{ ? adminExtraOption->getOptionKindUse("25") !== 'N' }-->
						<tr>
							<th><span name="item_select_OP5_25">{adminExtraOption->getDisplayName("25")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("25","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->		
						<!--{ ? adminExtraOption->getOptionKindUse("26") !== 'N' }-->
						<tr>
							<th><span name="item_select_OP6_26">{adminExtraOption->getDisplayName("26")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("26","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						<tr>
							<th>
								<!--{ ? adminExtraOption->getOptionKindUse("27") !== 'N' }-->
								<span name="item_select_OP7_27">{adminExtraOption->getDisplayName("27")}</span>
								<!--{ / }-->
							</th>
							<td class="won_area">
								<!--{ ? adminExtraOption->getOptionKindUse("27") !== 'N' }-->
									{adminExtraOption->MakeSelectOptionTag("27","","forwardAction","inp-w-150")}
								<!--{ / }-->
								
								<!--{ ? _GET.optmode == 'detail' }-->
								<span style="float: right;"><label class="red"><input type="checkbox" name="chk_after" id="chk_after" onclick="onVisibleAfterOption()" value="" /><b>{=__text("후가공 더보기")}▼</b></label></span>
								<!--{ / }-->
						    </td>
						</tr>
						<!--선택후가공-->
						<tr>
							<td colspan="2">
								<!--{ ? _GET.optmode == 'detail' }-->
								<div id="after_option" style="display:none;" class="box">
									<h3 class="est_title">{=__text("후가공")}</h3>	
									<table cellpadding="0" cellspacing="0" class="estTable">
										<colgroup><col class="inp-w-120" /><col width="*" /></colgroup>
										<tbody>
										<!--{ @ afterOptionSelectArr }-->
												
										<tr>
											<th>
												<input type="checkbox" name="chk_item_select_{.code}_0" id="chk_item_select_{.code}_0" onclick="onClickChkAfterOption();" />
												<span name="item_select_{.code}_{.optionKindIndex}">{.name}</span>								
											</th>
											<td class="won_area">
												<div id="option_item_select_{.code}">		
												{adminExtraOption->MakeSelectOptionTag(.optionKindIndex,"","forwardAction","inp-w-150")}&nbsp;{=AfterOptionHelpInfo(.code)}
											  	<span class="won">
													<span class="price-view">
														<input type='hidden' name='option_supply_price_{.code}' id='option_supply_price_{.code}'>
														<input type='hidden' name='option_price_{.code}' id='option_price_{.code}'>
														<div id='price_text_{.code}'>0{=__text("원")}</div>
													</span>			  		
											  	</span>
												</div>	  	
											</td>
										</tr>
										
										<!--{ / }-->	
										</tbody>
									</table>
								</div>
								<!--{ / }-->
							</td>
						</tr>					
						<tr>
							<th>&nbsp;<!--<span>{adminExtraOption->MakeOrderCntDisplayName(goodsno,"C-OCNT")}</span>--></th>
							<td class="won_area">
								<!--<span>{adminExtraOption->MakeOrderCntSelect(goodsno, "C-OCNT","order_cnt_select_C-OCNT")}</span>-->
								<!--표지수량(입력)-->
								<!--<span><input type="text" id="input_order_cnt_select_C-OCNT" name="input_order_cnt_select_C-OCNT" /></span>-->
								<!--표지수량(단위)-->
								<!--<span name="C-OCNT">{adminExtraOption->getUserCntName(goodsno, "C-OCNT")}</span>-->
							  	<span class="won">
									<span class="price-view">
										<input type='hidden' name='option_supply_price_C-PP' id='option_supply_price_C-PP'>
										<input type='hidden' name='option_price_C-PP' id='option_price_C-PP'>
										<div id='price_text_C-PP'>0{=__text("원")}</div>
									</span>			  		
							  	</span>
							</td>
						</tr>
						</tbody>
					</table>
					</div>
				</div>
			</div>
			<div class="space"> </div>				

			<!--내지-->
			<div id="page-area" addcount="0">
				<div class="box" id="option_item_select_PP">
					<h3 class="est_title">{=__text("내지")}
						<!--{ ? _GET.optmode == 'detail' }-->
						<span class="optmode_detail">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<!--{ ? OrderMemoArr[96] == 'Y' }-->
							<input type="checkbox" name="chk_item_select_M-PP_0" id="chk_item_select_M-PP_0" onclick="onVisiblePageOption('M-PP')" value="M-PP" />{=__text("면지")}
							<!--{ / }-->
							<!--{ ? OrderMemoArr[97] == 'Y' }-->
							<input type="checkbox" name="chk_item_select_G-PP_0" id="chk_item_select_G-PP_0" onclick="onVisiblePageOption('G-PP')" value="G-PP" />{=__text("간지")}
							<!--{ / }-->
						</span>
						<span class="type blue"><a href="javascript:;" onclick="addOptionPage();">+ {=__text("내지추가")}</a></span>
						<!--{ / }-->							
					</h3>
					<table cellpadding="0" cellspacing="0" class="estTable">
						<colgroup>
							<col class="inp-w-80" /><col width="*" />
						</colgroup>
						<tbody>
						<tr>
							<th><span name="item_select_PP_1">{adminExtraOption->getDisplayName("9")}</span></th>
							<td>{adminExtraOption->MakePageSelectOptionTag("9|10|11")}</td>
						</tr>
						<!--{ ? adminExtraOption->getOptionKindUse("12") !== 'N' }-->
						<tr>
							<th><span name="item_select_PO_12">{adminExtraOption->getDisplayName("12")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("12","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						<tr>
							<th><span name="order_cnt_select_OCNT">{adminExtraOption->MakeOrderCntDisplayName(goodsno,"OCNT")}</span></th>
							<td class="won_area">
								<span>{adminExtraOption->MakeOrderCntSelect(goodsno,"OCNT","order_cnt_select_OCNT","false")}</span>
								<!--내지수량(입력)-->
								<span><input type="text" id="input_order_cnt_select_OCNT" name="input_order_cnt_select_OCNT" style="display: none;" /></span>
								<!--내지수량(단위)-->
								<span name="OCNT">{adminExtraOption->getUserCntName(goodsno, "OCNT")}</span>
							  	<span class="won">
									<span class="price-view">
										<input type='hidden' name='option_supply_price_PP' id='option_supply_price_PP'>
										<input type='hidden' name='option_price_PP' id='option_price_PP'>
										<div id='price_text_PP'>0{=__text("원")}</div>
									</span>			  		
							  	</span>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
				<div class="space"> </div>	
			</div>				

			<!--면지-->
			<!--{ ? OrderMemoArr[96] == 'Y' }-->
			<div id="page_option_M-PP" style="display:none;">
				<div class="box" id="option_item_select_M-PP">
					<h3 class="est_title">{=__text("면지")}</h3>
					<table cellpadding="0" cellspacing="0" class="estTable">
						<colgroup>
							<col class="inp-w-80" /><col width="*" />
						</colgroup>
						<tbody>
						<tr>
							<th><span name="item_select_M-PP_1">{adminExtraOption->getDisplayName("13")}</span></th>
							<td>{adminExtraOption->MakePageSelectOptionTag("13|14|15")}</td>
						</tr>
						<!--{ ? adminExtraOption->getOptionKindUse("16") !== 'N' }-->
						<tr>
							<th><span name="item_select_MPO_16">{adminExtraOption->getDisplayName("16")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("16","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						<tr>
							<th><span name="order_cnt_select_M-OCNT">{adminExtraOption->MakeOrderCntDisplayName(goodsno,"M-OCNT")}</span></th>
							<td class="won_area">
								<span>{adminExtraOption->MakeOrderCntSelect(goodsno,"M-OCNT","order_cnt_select_M-OCNT","false")}</span>
								<!--면지수량(입력)-->
								<span><input type="text" id="input_order_cnt_select_M-OCNT" name="input_order_cnt_select_M-OCNT" style="display: none;" /></span>
								<!--면지수량(단위)-->
								<span name="M-OCNT">{adminExtraOption->getUserCntName(goodsno, "M-OCNT")}</span>
							  	<span class="won">
									<span class="price-view">
										<input type='hidden' name='option_supply_price_M-PP' id='option_supply_price_M-PP'>
										<input type='hidden' name='option_price_M-PP' id='option_price_M-PP'>
										<div id='price_text_M-PP'>0{=__text("원")}</div>
									</span>			  		
							  	</span>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
				<div class="space"> </div>	
			</div>
			<!--{ / }-->
					
			<!--간지-->
			<!--{ ? OrderMemoArr[97] == 'Y' }-->
			<div id="page_option_G-PP" style="display:none;">
				<div class="box" id="option_item_select_G-PP">
					<h3 class="est_title">{=__text("간지")}</h3>
					<table cellpadding="0" cellspacing="0" class="estTable">
						<colgroup>
							<col class="inp-w-80" /><col width="*" />
						</colgroup>
						<tbody>
						<tr>
							<th><span name="item_select_G-PP_1">{adminExtraOption->getDisplayName("17")}</span></th>
							<td>{adminExtraOption->MakePageSelectOptionTag("17|18|19")}</td>
						</tr>
						<!--{ ? adminExtraOption->getOptionKindUse("20") !== 'N' }-->
						<tr>
							<th><span name="item_select_GPO_20">{adminExtraOption->getDisplayName("20")}</span></th>
							<td>{adminExtraOption->MakeSelectOptionTag("20","","forwardAction","inp-w-150")}</td>
						</tr>
						<!--{ / }-->
						<tr>
							<th><span name="order_cnt_select_G-OCNT">{adminExtraOption->MakeOrderCntDisplayName(goodsno,"G-OCNT")}</span></th>
							<td class="won_area">
								<span>{adminExtraOption->MakeOrderCntSelect(goodsno,"G-OCNT","order_cnt_select_G-OCNT","false")}</span>
								<!--간지수량(입력)-->
								<span><input type="text" id="input_order_cnt_select_G-OCNT" name="input_order_cnt_select_G-OCNT" style="display: none;" /></span>
								<!--간지수량(단위)-->
								<span name="G-OCNT">{adminExtraOption->getUserCntName(goodsno, "G-OCNT")}</span>
							  	<span class="won">
									<span class="price-view">
										<input type='hidden' name='option_supply_price_G-PP' id='option_supply_price_G-PP'>
										<input type='hidden' name='option_price_G-PP' id='option_price_G-PP'>
										<div id='price_text_G-PP'>0{=__text("원")}</div>
									</span>			  		
							  	</span>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
				<div class="space"> </div>	
			</div>
			<!--{ / }-->
							
			<!--price box-->
			<div class="estBox type3 price-view">
				<div>
					<span class="amount" id="select_option_sum" >0 {=__text("원")}</span>
					<!--{? horizon_view_flag == "1" }--><!--2단가로상품보이기--><br><!--{ / }-->
					<span class="amount2" id="select_option_sum_desc">0 {=__text("원")}</span>
				</div>
				<input type="hidden" id="select_option_supply_price" name="select_option_supply_price" />
	        	<input type="hidden" id="select_option_sum_price" name="select_option_sum_price" />
			</div>
			<div class="space"> </div>
			
			<!--est_order_memo-->
			<!--{ ? OrderMemoArr[99] == 'Y' }-->
			<div class="box">
				<table cellpadding="0" cellspacing="0" class="estTable2">
					<colgroup>
						<col class="inp-w-80" /><col width="*" />
					</colgroup>
					<tbody>
					<tr>
						<th>{=__text("주문 메모")}</th>
						<td><textarea name="est_order_memo" style="width: 300px;height: 60px;">{est_order_memo}</textarea></td>
					</tr>
				</tbody>
				</table>
			</div>
			<!--{ / }-->

			<div class="estbtn">
				<a href="javascript:;" onclick="initOrder('{order_type}', 'UPDATE')" class="estimate_btn"><span class="btn_05"></span>{=__text("주문하기")}</a>
			</div>
        
		</div>		
	</div>
</div>

<script type="text/javascript"> 
function addOptionPage() {
	//console.log('내지추가');
	var addcount = $('#page-area').attr('addcount');
	addcount++;
	
	var code = "PP-" + addcount;
	var code3 = "OCNT-" + addcount; //수량
	
	var div = $('#page-cont').clone();
	div.attr('id',code);
	
	var html = div.html(); 
	html = html.replace(/\PPP/g,code);
	html = html.replace(/\ACNT/g,code3); //수량

	//group_code = FIXOPTION , SELOPTION
	var s = "FIXOPPTION";
	html = html.replace(new RegExp(s, 'gi'), "FIXOPTION");
	
	div.html(html);
	//console.log(div.html());
	
	optino_group_code.push(code);
	optino_group_code = optino_group_code.reduce(function(a,b){if(a.indexOf(b)<0)a.push(b);return a;},[]); //중복제거
	//console.log("[add]optino_group_code: " + optino_group_code);
  	$("input[name='option_group_code']").val(optino_group_code.toString());
  	
	div.appendTo('#page-area');
	$('#page-area').attr('addcount',addcount);

	//내지 1~3차 option_kind_code가 replace되는 문제로 기존 내지항목으로 대체...
	$('#item_select_' + code + '_1').html($('#item_select_PP_1').html());
	$('#item_select_' + code + '_2').html($('#item_select_PP_2').html());
	$('#item_select_' + code + '_3').html($('#item_select_PP_3').html());

	//수량 사용자 직접 입력 관련 이벤트 처리
	$("#input_order_cnt_select_"+code3).each(function(){
		$(this).bind('focusout', function(){
			getRangeSelectCnt(this);
		});
		// onkeyup="this.value=number_filter(this.value);"
		$(this).bind('keyup', function(){
			this.value = number_filter(this.value);
		});
	});
	
	if('{adminExtraOption->getUserCntInputFlage(goodsno, "OCNT")}' == "Y")
		$("#order_cnt_select_"+code3).attr("style","display:none;");
	else
		$("#input_order_cnt_select_"+code3).attr("style","display:none;");
	//수량 사용자 직접 입력 관련 이벤트 처리
}

function delOptionPage(sender) {
	//console.log('내지삭제');
	var code = $(sender).attr('code');
	
	var gcode = optino_group_code.toString();
	gcode = gcode.replace(','+code, '');

	//optino_group_code = [gcode];
	optino_group_code = gcode.split(",");
	optino_group_code = optino_group_code.reduce(function(a,b){if(a.indexOf(b)<0)a.push(b);return a;},[]); //중복제거

  	$("input[name='option_group_code']").val(optino_group_code.toString());
	//$(sender).parent().parent().parent().parent().parent().remove();
	$('#option_item_select_'+ code).parent().remove();

	//#책자프리셋 후가공옵션 계산 방식 수정 2015.06.10 by kdk
	//2.추가된 모든 내지 수량을 합산한 총 페이지수에 따른 후가공 가격테이블을 계산합니다.
	//3.삭제된 내지 수량에 따라 후가공 가격테이블을 계산합니다.
	$("div[id^='after_option_item_select_']").each(function(){
		var id = $(this).attr("id");
		var code = id.replace("after_option_item_select_","");
		code = code.replace("_0","");
		
		priceAction(code);
	});

	//가격확인
	priceSum();
}

$(window).load(function(){
	//추가 내지를 위해 페이지 0 매를 추가한다.
	$('#page-cont #order_cnt_select_OCNT').prepend("<option value='0'>"+{=__java("선택")}+"</option>");
	//$('#page-cont #input_order_cnt_select_OCNT').val("0");

	var div = $('#page-cont');
	var html = div.html(); 
	html = html.replace(/\PP/g, "PPP");
	html = html.replace(/\OCNT/g, "ACNT");
	
	div.html(html);

	//제본방식 이벤트 추가.
	$("#item_select_JB_2").removeAttr("onchange");
    $("#item_select_JB_2").change(function(){

    	//"무선제본"일 경우 내지추가/간지/면지 숨기기.
    	if ("{_GET.optmode}" == "detail") {
	    	if ($(this).val() == {=__java("무선제본")}) {
	    		$(".optmode_detail").hide();
	    		$("#page_option_M-PP").hide();
	    		$("#page_option_G-PP").hide();
				if($("#chk_item_select_M-PP_0").is(":checked")) $("#chk_item_select_M-PP_0").attr("checked", false);
				if($("#chk_item_select_G-PP_0").is(":checked")) $("#chk_item_select_G-PP_0").attr("checked", false);
	    	}
	    	else {
	    		$(".optmode_detail").show();
	    	}
    	}
    	
    	//내지(+추가내지)/간지/면지의 전체 페이지 합이 정해진 제본방식의 최소,최대 페이지 수에 초과 하지 않도록 처리.
  		getRangeSelectCntTotal(this);
    });
    
	//전체 수량
	$("#unit_order_cnt").removeAttr("onchange");
    $("#unit_order_cnt").change(function(){
    	//표지 가격을 다시 로드한다.
    	//priceAction("C-PP");
    	
    	//마지막 항목 가격을 기본적으로 뿌려준다.
  		priceSum();
    });

    //sub select
	/*$("#item_select_C-PP_1").each(function(){
		forwardAction(this);
	});

	/*$("#item_select_PP_1").each(function(){
		forwardAction(this);
	});

	$("#item_select_M-PP_1").each(function(){
		forwardAction(this);
	});

	$("#item_select_G-PP_1").each(function(){
		forwardAction(this);
	});

	$("#item_select_PPP_1").each(function(){
		forwardAction(this);
	});*/
	//sub select
	
	//수량 사용자 직접 입력 관련 이벤트 처리
	$("input[name^='input_']").each(function(){
		//console.log($(this));
		$(this).val("1");
		$(this).attr("style","width: 30px; height: 20px;");
		$(this).bind('focusout', function(){
			getRangeSelectCnt(this);
		});
		// onkeyup="this.value=number_filter(this.value);"
		$(this).bind('keyup', function(){
			this.value = number_filter(this.value);
		});
	});

	//수량 사용자 직접 입력 창	
	/*if('{adminExtraOption->getUserCntInputFlage(goodsno, "C-OCNT")}' == 'Y')
		$("#order_cnt_select_C-OCNT").attr("style","display:none;");
	else
		$("#input_order_cnt_select_C-OCNT").attr("style","display:none;");*/

	$("#input_unit_order_cnt").attr("style","display:none;"); //수량 사용자 직접 입력창 숨기기.
	
	if('{adminExtraOption->getUserCntInputFlage(goodsno, "OCNT")}' == 'Y') {
		//$("#unit_order_cnt").attr("style","display:none;");
		$("#order_cnt_select_OCNT").attr("style","display:none;");
		$("#order_cnt_select_ACNT").attr("style","display:none;");
	}
	else {
		//$("#input_unit_order_cnt").attr("style","display:none;");
		$("#input_order_cnt_select_OCNT").attr("style","display:none;");
		$("#input_order_cnt_select_ACNT").attr("style","display:none;");
	}
	if('{adminExtraOption->getUserCntInputFlage(goodsno, "M-OCNT")}' == 'Y')
		$("#order_cnt_select_M-OCNT").attr("style","display:none;");
	else
		$("#input_order_cnt_select_M-OCNT").attr("style","display:none;");

	if('{adminExtraOption->getUserCntInputFlage(goodsno, "G-OCNT")}' == 'Y')
		$("#order_cnt_select_G-OCNT").attr("style","display:none;");
	else
		$("#input_order_cnt_select_G-OCNT").attr("style","display:none;");

	//견적가격 노출 여부 기능 추가 2015.07.01 by kdk
	if($("#extra_price_view_flag").val() == "0") {
		$(".price-view").hide();
	}

	//자동견적결제(견적의뢰)일 경우 비규격 처리 2015.07.06 by kdk
	if($("#extra_auto_pay_flag").val() == "0") {
		//비규격 추가한다.
		$("#item_select_DOCUMENT_1").prepend("<option value=''>"+{=__java("비규격")}+"</option>");
	}

	//규격 읽기전용 처리 2015.12.23 by kdk
	$("#document_x").attr("readonly",true);
	$("#document_y").attr("readonly",true);
	
	//견적 두번째 수량(unit_order_cnt) 표시 여부 추가 2016.04.14 by kdk
	/*if('{extra_unitcnt_view_flag}' == '1') {
		//alert('{extra_unitcnt_view_flag}');
		$("#unit_order_cnt").attr("style","display:none;");
		$("#input_unit_order_cnt").attr("style","display:none;");
		$("span[name='x']").attr("style","display:none;");
		$("span[name='unit_order_cnt']").attr("style","display:none;");
	}*/	
	
	//면적당 계산을 위해 이벤트 처리 / 16.11.08 / kdk
	if('{_extra_price_type}' == "SIZE") {
		$("input[name^='document_']").each(function(){
			$(this).bind('focusout', function(){
				getRangeInputCnt(this);
			});
			$(this).bind('keyup', function(){
				this.value = number_filter(this.value);
			});
		});
	}
	
	//////////수정하기 값설정//////////
	var json_data = '{orderOptionData}';
	var object = $.parseJSON(json_data);
	//console.log("json_data: " + json_data);
	$.each(object , function(key, value){
		//console.log(key + ": " + object [key]);
		
		//if($("#"+key))
		//	$("#"+key).val(object [key]);
			
		if(key == "option_group_code") { 
			group_code = object [key];
			$("input[name='option_group_code']").val(object [key]);
	  		//console.log($("input[name='option_group_code']").val());
	  	}
	});	

	//추가된 내지의 code를 찾아서 html을 생성한다.   
  	if(group_code !== "") {
  		var add_max = 0;
  		group_code = group_code.replace(optino_group_code.toString(),"");
  		
  		add_group_code = group_code.split(',');
  		add_group_code.sort();
  		add_group_code = add_group_code.reduce(function(a,b){if(a.indexOf(b)<0)a.push(b);return a;},[]); //중복제거

  		for(i=0; i<add_group_code.length;i++) {
  			if(add_group_code[i] !== "") {
  				if (add_group_code[i].indexOf('PP-') > -1) {
					var n = add_group_code[i].replace("PP-","");
					//console.log("n : "+n);
					//내지추가
					addOptionPage(add_group_code[i],n);
					
					if(n > add_max) add_max = n;
				}
				optino_group_code.push(add_group_code[i]);
  			}
  		}
		
		//console.log("optino_group_code : "+optino_group_code);
		$('#page-area').attr('addcount',add_max);
  	}

  	//값 설정
	$.each(object , function(key, value){
		//console.log(key + ": " + object [key]);

		//면지,간지, 후가공 선택 표시해주기.
		if (key.indexOf('chk_') > -1) {
			$(".optmode_detail").show();

			//console.log(key + ": " + object [key]);
			if(object [key] == "Y") {
				$("#"+key).attr("checked", true);
				onVisibleAfterOption(key.replace("chk_",""));

				//면지,간지 선택 표시해주기
				if(key == "chk_item_select_M-PP_0")
					onVisiblePageOption("M-PP");
				if(key == "chk_item_select_G-PP_0")
					onVisiblePageOption("G-PP");
			}
			else $("#"+key).attr("checked", false);
		}

		//용지 값 설정 넘김.
		if (key.indexOf('item_select_C-PP_') > -1) return true;
		if (key.indexOf('item_select_PP') > -1) return true;
		if (key.indexOf('item_select_PP-') > -1) return true;
		if (key.indexOf('item_select_M-PP_') > -1) return true;
		if (key.indexOf('item_select_G-PP_') > -1) return true;
		
		if($("#"+key)) {
			$("#"+key).val(object [key]);

			//console.log("=" + key + ": " + $("#"+key).val());

			//수량 사용자 직접 입력 창 값 설정.
			if (key.indexOf('order_cnt_select_') > -1) {
      			$("#input_"+key).val(object [key]);
    		}
    		
			//후가공보기 선택 표시해주기
			if(key.indexOf('chk_item_select_OP') > -1) {
				$("#chk_after").attr('checked', true);
				//$("#after_option").show();
			}
		}
	});

	//용지값 설정
	$("#item_select_C-PP_1").each(function(){
		$(this).val(object["item_select_C-PP_1"]);
		forwardAction(this);
	});

	$("#item_select_PP_1").each(function(){
		$(this).val(object["item_select_PP_1"]);
		forwardAction(this);
	});

	$("#item_select_M-PP_1").each(function(){
		$(this).val(object["item_select_M-PP_1"]);
		forwardAction(this);
	});

	$("#item_select_G-PP_1").each(function(){
		$(this).val(object["item_select_G-PP_1"]);
		forwardAction(this);
	});

	//추가내지 용지 값설정.
	//console.log("add_group_code : "+add_group_code);
	for(i=0; i<add_group_code.length;i++) {
		if(add_group_code[i] !== "") {
			//console.log("add_group_code[i] : "+add_group_code[i]);
			$("#item_select_"+add_group_code[i]+"_1").each(function(){
				$(this).val(object["item_select_"+add_group_code[i]+"_1"]);
				forwardAction(this);
			});
		}
	}

	//규격 설정
	$("select[option_group_type='DOCUMENT']").each(function(){
		//console.log(document_size);
		var document_x = $("input[id='document_x'][option_group_type='DOCUMENT'][code='DOCUMENT']");
		var document_y = $("input[id='document_y'][option_group_type='DOCUMENT'][code='DOCUMENT']");

		if (!$(document_x).is("input")) document_x = $("input[id='document_x'][option_group_type='DOCUMENT']");
		if (!$(document_y).is("input")) document_y = $("input[id='document_y'][option_group_type='DOCUMENT']");
		
    	$(document_x).attr("readonly",false);
    	$(document_y).attr("readonly",false);

    	for(document_key in document_size) {

			if($("select[option_group_type='DOCUMENT']").val() == {=__java("비규격")}) {
				$(document_x).val("");
				$(document_y).val("");
			}    		
    						
			if (document_key == $("select[option_group_type='DOCUMENT']").val()) {
				
    			$(document_x).val(document_size[document_key].substr(0, document_size[document_key].indexOf('x')));
    			$(document_y).val(document_size[document_key].substr(document_size[document_key].indexOf('x')+1, document_size[document_key].length));
				
				if ($(document_x).val())
					$(document_x).attr("readonly",true);
				
				if ($(document_y).val())
					$(document_y).attr("readonly",true);
			}
		}
	});
	//////////수정하기 값설정//////////		
	
	//마지막 항목 가격을 기본적으로 뿌려준다.
	forwardOrderCntAction();
});
</script>
<!--내지추가-->
<div style="display: none;">
	<div id="page-cont">
		<div class="box" id="option_item_select_PP">
			<h3 class="est_title">{=__text("추가 내지")}
				<span class="type red"><a href="javascript:;" onclick="delOptionPage(this);" code="PP">+ {=__text("내지삭제")}</a></span>
			</h3>
			<table cellpadding="0" cellspacing="0" class="estTable">
				<colgroup>
					<col class="inp-w-80" /><col width="*" />
				</colgroup>
				<tbody>
				<tr>
					<th><span name="item_select_PP_1">{adminExtraOption->getDisplayName("9")}</span></th>
					<td>{adminExtraOption->MakePageSelectOptionTag("9|10|11")}</td>
				</tr>
				<!--{ ? adminExtraOption->getOptionKindUse("12") !== 'N' }-->
				<tr>
					<th><span name="item_select_PO_12_PP">{adminExtraOption->getDisplayName("12")}</span></th>
					<td>{adminExtraOption->MakeSelectOptionTagAddPage("12","","forwardAction","inp-w-150")}</td>
				</tr>
				<!--{ / }-->
				<tr>
					<th><span name="order_cnt_select_OCNT">{adminExtraOption->MakeOrderCntDisplayName(goodsno,"OCNT")}</span></th>
					<td class="won_area">
						<span>{adminExtraOption->MakeOrderCntSelect(goodsno,"OCNT","order_cnt_select_OCNT","false")}</span>
						<!--내지수량(입력)-->
						<span><input type="text" id="input_order_cnt_select_OCNT" name="input_order_cnt_select_OCNT" style="display: none;" /></span>
						<!--내지수량(단위)-->
						<span name="OCNT">{adminExtraOption->getUserCntName(goodsno, "OCNT")}</span>
					  	<span class="won">
							<span class="price-view">
								<input type='hidden' name='option_supply_price_PP' id='option_supply_price_PP'>
								<input type='hidden' name='option_price_PP' id='option_price_PP'>
								<div id='price_text_PP'>0{=__text("원")}</div>
							</span>			  		
					  	</span>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div class="space"> </div>	
	</div>
</div>
<!--내지추가-->
		